(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{3500:function(e,t,s){Promise.resolve().then(s.bind(s,773))},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var a=s(2972),n=s.n(a)},773:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(7437),n=s(2265),r=s(7648),l=s(1837);function i(){let[e,t]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[h,o]=(0,n.useState)("");(0,n.useEffect)(()=>{l.h.getSellers().then(e=>{t(e),i(!1)}).catch(e=>{d(e.message),i(!1)})},[]);let x=e.filter(e=>{var t,s;let a=h.toLowerCase();return e.seller_name.toLowerCase().includes(a)||e.domain.toLowerCase().includes(a)||(null===(t=e.whatsapp_number)||void 0===t?void 0:t.includes(h))||(null===(s=e.phone_number)||void 0===s?void 0:s.includes(h))});return s?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,a.jsx)("div",{className:"animate-pulse",children:"Loading sellers..."})})}):c?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,a.jsxs)("div",{className:"text-red-400",children:["Error: ",c]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Sellers Database"}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:[e.length," sellers with contact information"]})]}),(0,a.jsx)(r.default,{href:"/",className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg text-sm transition-colors",children:"Back to Dashboard"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("input",{type:"text",placeholder:"Search by name, domain, or phone...",value:h,onChange:e=>o(e.target.value),className:"w-full max-w-md px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-indigo-500"})}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"ID"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Domain"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"WhatsApp"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Phone"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Website"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-700",children:x.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-400",children:e.id}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium",children:e.seller_name}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-indigo-400",children:e.domain}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.whatsapp_number?(0,a.jsx)("a",{href:"https://wa.me/".concat(e.whatsapp_number.replace(/[^0-9]/g,"")),target:"_blank",rel:"noopener noreferrer",className:"text-green-400 hover:text-green-300 hover:underline",children:e.whatsapp_number}):(0,a.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.phone_number?(0,a.jsx)("a",{href:"tel:".concat(e.phone_number),className:"text-cyan-400 hover:text-cyan-300 hover:underline",children:e.phone_number}):(0,a.jsx)("span",{className:"text-gray-500",children:"-"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.website_url?(0,a.jsx)("a",{href:e.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline truncate block max-w-xs",title:e.website_url,children:e.domain}):(0,a.jsx)("span",{className:"text-gray-500",children:"-"})})]},e.id))})]}),0===x.length&&(0,a.jsxs)("div",{className:"px-4 py-8 text-center text-gray-400",children:['No sellers found matching "',h,'"']})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-400",children:e.filter(e=>e.whatsapp_number).length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"With WhatsApp"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:e.filter(e=>e.phone_number).length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"With Phone"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-indigo-400",children:e.filter(e=>!e.whatsapp_number&&!e.phone_number).length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"No Contact"})]})]})]})})}},1837:function(e,t,s){"use strict";s.d(t,{h:function(){return n}});class a{async fetch(e,t){let s=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:{"Content-Type":"application/json",...null==t?void 0:t.headers}});if(!s.ok)throw Error("API error: ".concat(s.status," ").concat(s.statusText));return s.json()}async getTraces(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return(await this.fetch("/traces/?limit=".concat(e))).traces}async getTrace(e){return this.fetch("/traces/".concat(e))}async deleteTrace(e){await this.fetch("/traces/".concat(e),{method:"DELETE"})}async runQuery(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"research";return this.fetch("/agent/run",{method:"POST",body:JSON.stringify({query:e,agent:t})})}async generateDrafts(e){return this.fetch("/agent/generate-drafts",{method:"POST",body:JSON.stringify(e)})}async lookupContacts(e){return(await this.fetch("/api/sellers/contacts",{method:"POST",body:JSON.stringify({domains:e})})).contacts}async getSellers(){return(await this.fetch("/api/sellers/")).sellers}async runDiscovery(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IL";return this.fetch("/agent/run",{method:"POST",body:JSON.stringify({query:e,agent:"discovery",country:t})})}async runDiscoveryRefinement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IL",s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;return this.fetch("/agent/run",{method:"POST",body:JSON.stringify({query:e,agent:"discovery",country:t,conversation_history:s,session_id:a,parent_trace_id:n})})}async getCountry(){return this.fetch("/api/geo/country")}async startPriceSearch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IL";return this.fetch("/api/shopping-list/search-prices",{method:"POST",body:JSON.stringify({items:e,country:t})})}async getSearchStatus(e){return this.fetch("/api/shopping-list/search-status/".concat(e))}constructor(e="http://localhost:8000"){this.baseUrl=e}}let n=new a}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=3500)}),_N_E=e.O()}]);